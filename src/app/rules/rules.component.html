<div class="container">
  <div class="box">
    <h1>Contents</h1>
    <div class="index">
      <ul>
        <li *ngFor="let rule of rules | async"><a custom-scroll href="#{{rule.title}}">{{rule.title}}</a>
          <ul *ngIf="rule.sections">
            <span *ngFor="let section of rule.sections"><li *ngIf="section.title"><a custom-scroll
                                                                                     href="#{{section.title}}">{{section.title}}</a></li></span>
          </ul>
        </li>
        <li><a custom-scroll href="#CharacterCreation">Character Creation</a>
          <ul>
            <li><a custom-scroll href="#Races">Races</a>
              <ul>
                <li *ngFor="let race of races | async"><a routerLink="/rules/race/{{race.name}}"
                                                          routerLinkActive="active">{{race.label}}</a></li>
              </ul>
            </li>
            <li><a custom-scroll href="#Classes">Classes</a>
              <ul>
                <li *ngFor="let clazz of classes | async"><a routerLink="/rules/class/{{clazz.name}}"
                                                             routerLinkActive="active">{{clazz.label}}</a></li>
              </ul>
            </li>
            <li><a custom-scroll href="#Stats">Stats</a>
              <ul>
                <li><a custom-scroll href="#Primary">Primary</a></li>
                <li><a custom-scroll href="#Secondary">Secondary</a></li>
              </ul>
            </li>
            <li><a custom-scroll href="#Additional">Additional Info</a></li>
          </ul>
        </li>
        <li><a custom-scroll href="#Equipment">Equipment</a>
          <ul>
            <li><a custom-scroll href="#Currency">Currency</a></li>
            <li><a custom-scroll href="#Weapons">Weapons</a></li>
            <li><a custom-scroll href="#Armour">Armour</a></li>
            <li><a custom-scroll href="#Shields">Shields</a></li>
            <li><a custom-scroll href="#Tools">Tools</a></li>
          </ul>
        </li>
        <li><a custom-scroll href="#Spells">Spells</a>
          <ul>
            <li *ngFor="let spell of spells | async"><a custom-scroll href="#{{spell.label}}">{{spell.label}}</a></li>
          </ul>
        </li>
        <li><a custom-scroll href="#Poisons">Poisons</a></li>
      </ul>
    </div>
  </div>

  <div class="box" *ngFor="let rule of rules | async">
    <h1 id="{{rule.title}}">{{rule.title}}</h1>
    <p [innerHTML]="rule.desc"></p>
    <div *ngFor="let section of rule.sections">
      <h2 *ngIf="section.title" id="{{section.title}}">{{section.title}}</h2>
      <p *ngIf="section.desc" [innerHTML]="section.desc"></p>
      <p class="code" *ngIf="section.code">{{section.code}}</p>
      <div *ngFor="let subSection of section.sections">
        <h3 *ngIf="subSection.title" id="{{subSection.title}}">{{subSection.title}}</h3>
        <p *ngIf="subSection.desc" [innerHTML]="subSection.desc"></p>
        <p class="code" *ngIf="subSection.code">{{subSection.code}}</p>
        <div *ngFor="let subSubSection of subSection.sections">
          <h4 *ngIf="subSubSection.title" id="{{subSubSection.title}}">{{subSubSection.title}}</h4>
          <p *ngIf="subSubSection.desc" [innerHTML]="subSubSection.desc"></p>
          <p class="code" *ngIf="subSubSection.code">{{subSubSection.code}}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="box">
    <h1 id="CharacterCreation">CHARACTER CREATION</h1>
    <p>
      Creating a character consists of the following steps:
    </p>
    <ul>
      <li>Select a <b>Race</b></li>
      <li>Select a <b>Class</b></li>
      <li>Allocate your <b>Primary Stats</b></li>
      <li>Enter additional detail such as: name, age, appearance, personality, background, aims</li>
    </ul>

    <h2 id="Races">RACES</h2>
    <p>
      Your race affects your appearance, how some characters judge you, and has an effect on your starting stats. Each
      race also has an additional unique passive ability.
    </p>
    <p>
      Some races will be slightly better suited to certain classes at the beginning, however there are no restrictions
      on this choice.
    </p>
    <p>
      More detail on each race can be found here:
    </p>
    <ul>
      <li *ngFor="let race of races | async"><a routerLink="/rules/race/{{race.name}}" routerLinkActive="active">{{race.label}}</a>
      </li>
    </ul>

    <h2 id="Classes">CLASSES</h2>
    <p>
      Your class defines how you operate in combat, giving you access to a specific set of equipment and abilities. Each
      class has a <b>Hit Die</b>, this controls how much <b>health</b> they both start with and gain each level.
    </p>
    <p>
      Please note the full set of class abilities is currently incomplete and will be discovered as you progress, what
      is displayed should however give you a feel for how the class is played.
    </p>
    <p>Individual classes details can be found here:</p>
    <ul>
      <li *ngFor="let clazz of classes | async"><a routerLink="/rules/class" routerLinkActive="active"
                                                   [queryParams]="{ class: clazz.name}">{{clazz.label}}</a></li>
    </ul>

    <h2 id="Stats">STATS</h2>
    <p>
      Stats are the numbers which make up a character's ability to excel (or not) at certain things. This is split up
      into <b>primary</b> stats and <b>secondary</b> stats.
    </p>

    <h3 id="Primary">PRIMARY</h3>
    <p>
      Primary stats are the building blocks of your character. All characters start with 1 in each stat, adjusted by
      your selected <b>race</b>, plus 5 points (10 for humans) to spend as you like.
    </p>
    <p>
      At creation only, no individual base stat (not including racial bonuses) can be raised above 5.
    </p>
    <p>
      The class you choose should guide you in which stats to allocate points in, however no matter what class you
      choose
      it is recommended to place a point or two in <b>Constitution</b> for health and <b>Agility</b> for speed.
    </p>

    <h4>Strength [STR]</h4>
    <p>
      How physically strong the character is. Allows the character to flex and lift heavy objects, as well as do more
      melee damage in combat.
    </p>

    <h4>Constitution [CON]</h4>
    <p>
      How healthy and fit the character is. Directly affects the <b>health</b> of a character as well as
      resistance to <b>poison</b> and <b>disease</b>.
    </p>

    <h4>Agility [AGI]</h4>
    <p>
      How fast and coordinated the character is. Directly affects the <b>speed</b> and <b>dodge</b> ratings of a
      character. It also affects damage done using ranged weapons.
    </p>

    <h4>Intelligence [INT]</h4>
    <p>
      How witty and educated the character is. Directly affects the power of most <b>arcane</b>, <b>fire</b>, <b>ice</b>
      and <b>dark</b> based magic, as well as <b>resistance</b> to those.
    </p>

    <h4>Spirit [SPI]</h4>
    <p>
      How in tune a character is with either their inner spirit or their god. Directly affects to power of most
      <b>light</b> and <b>nature</b> magic, as well as resistance to those.
    </p>

    <h4>Charisma [CHA]</h4>
    <p>
      How charming and persuasive a character is. Directly affects the power of most <b>mind</b> magic as well as
      resistance to it. Also useful when trying to pick up girls.
    </p>

    <h3 id="Secondary">SECONDARY</h3>
    <p>
      Secondary stats are calculated from both the characters primary stats, level, and any item enhancements. They
      cannot be directly modified in the same way that the primary stats are.
    </p>

    <h4>Health</h4>
    <p>
      The general well-being of a character, health is used as an indicator of how close a character is to dieing. It is
      based
      on <b>constitution</b>, <b>level</b>, and the <b>class</b>. All characters start with health equal to:
    </p>
    <p class="code">
      Max Health = Hit Die Max + Constitution
    </p>
    <p>
      Each level characters gain health equal to the average of their <b>class hit die</b> plus <b>constitution</b>:
    </p>
    <p class="code">
      Bonus Health = Hit Die Average + Constitution
    </p>
    <p>
      Note than any increases in <b>Constitution</b> are applied retroactively, so the full formula to calculate how
      much maximum health a character currently has is:
    </p>
    <p class="code">
      Max Health = Hit Die Max + Constitution + ((Hit Die Average + Constitution) * (Level - 1))
    </p>
    <p>
      For example a level 5 Warrior (class hit die d12) with 5 Constitution, and a level 5 Wizard (class hit die d6)
      with 3 Constitution would have:
    </p>
    <p class="code">
      Warrior = 12 + ((6 + 5) * 4) = 56 <br/>
      Wizard = 6 + ((3 + 3) * 4) = 30
    </p>
    <p>
      When a character is below 50% of their maximum health, they are considered <b>wounded</b>.
    </p>
    <p>
      When a character is at 0 health, they are considered <b>unconscious</b> and <b>dying</b> (unless
      <b>stabilized</b>). For more detail see the section on <a custom-scroll href="#Death">Death</a>.
    </p>

    <h4>Temporary Health</h4>
    <p>
      Some spells and abilities grant a character temporary health, which acts as a temporary buffer against damage.
      Characters with full health can be given additional health via temporary health.
    </p>
    <p>
      When a character with temporary health takes damage, the damage is first taken from temporary health and if any is
      leftover
      it is then taken on actual health.
    </p>
    <p>
      Once temporary health is removed, it cannot be regained via healing. If a character with temporary health is
      granted
      more temporary health, they are not combined, the character must chose whether to keep their existing pool or to
      take the new one.
    </p>
    <p>
      When a character takes any sort of rest, temporary hit points are removed.
    </p>

    <h4>Speed</h4>
    <p>
      This is the characters ability to move around the battlefield in combat. Units are generally considered to be in
      meters, so a character with 5 speed is able to move 5 meters per round.
    </p>
    <p>
      Characters speed is affected by their <b>Agility</b> stat plus any modifiers. It should be noted that heavy
      armour
      and shields negatively affect a characters speed. A character will always have a minimum of 1 speed
      regardless of modifiers (unless they are <b>Rooted</b>).
    </p>
    <p>
      Each point of agility up to 5 speed is worth 1 speed. Each point between 6-10 is worth 1/2, each point between
      11-15
      is worth 1/3, 16-20 worth 1/4 and 21-25 worth 1/5. Remember to round down to the nearest whole number.
    </p>
    <p>
      For example a character with 6 agility will have:
    </p>
    <p class="code">
      Speed = 1 + 1 + 1 + 1 + 1 + 0.5 + 0.5 = 6
    </p>
    <p>
      The maximum a character can have would be at 25 agility:
    </p>
    <p class="code">
      Speed = 1 + 4 + 2.5 + 1.67 + 1.25 + 1.2 = 12.62 = 12
    </p>
    <p>
      Speed is also used to decide combat turn order during the <b>Initiative</b> phase.
    </p>

    <h4>Avoidance</h4>
    <p>
      The characters ability to avoid attacks, and comes in two categories: <b>dodge</b> and <b>resistance</b>.
    </p>
    <p>
      <b>Dodge</b> affects the characters ability to avoid physical attacks as well as some projectile based magic. To
      calculate a characters <b>Dodge Rating</b>, take 10 and add their <b>Agility</b>, then any other modifiers.
      Similar to <b>speed</b>,
      <b>dodge</b> is negatively affected by heavy armour and shields.
    </p>
    <p>
      <b>Resistance</b> is a general term that affects the characters ability to avoid poison, disease and magical
      attacks.
      The specific stat used depends type of magic being employed and will be described on the ability/weapon.
    </p>

    <h4>Mitigation</h4>
    <p>
      The characters ability to reduce damage they taken from hits. Like avoidance this comes in two categories: <b>armour</b>
      and <b>magic reduction</b>.
    </p>
    <p>
      <b>Armour</b> reduces the amount of <b>physical</b> damage taken and is generally improved by wearing better and
      heavier
      armour.
    </p>
    <p>
      <b>Magic Reduction</b> reduces the amount of <b>magical</b> damage taken and can only be improved through certain
      abilities and magical items. Magic damage comes in many different subtypes: fire, ice, arcane, dark, light and
      energy.
      Note that if something states 'Magic Reduction', it applies to all subtypes of magical damage, however some
      abilities and items may only apply to certain subtypes, in this case it will be specific, such as 'Fire
      Reduction'.
    </p>
    <p>
      Damage from poison and disease cannot be mitigated.
    </p>

    <h2 id="Additional">ADDITIONAL INFO</h2>
    <p>
      To finalise your character, you should give them some general details such as name, age, appearance, personality,
      background, and life goals.
    </p>
    <p>
      For the background and life goals you can be as in depth or as mysteriously vague as you wish. You do not need
      to disclose all these details with the other players, however being open with the DM allows them to mould the
      story to your character, creating more personalised plots.
    </p>
  </div>

  <div class="box">
    <h1 id="Equipment">Equipment</h1>
    <p>
      This section contains details on all the basic equipment available to the characters. In addition to the
      equipment stated on their selected <b>class</b>, all characters start with a set of <b>bandages</b> each, as well
      as 5 units of food and water each.
    </p>
    <p>
      Equipment can be bought, acquired via gifts for completed quests, or hunting treasure.
    </p>

    <h2 id="Currency">Currency</h2>
    <p>
      The unit of currency in Solusek is gold coins. For this campaign, the characters always start with no gold coins,
      so it is in their interest to pursue avenues of income.
    </p>
    <p>
      Gold can be obtained by completing quests, stealing, killing, or hunting and selling treasure.
    </p>

    <h2 id="Weapons">Weapons</h2>
    <p>
      Weapons are used to perform attack actions and must be equipped. Each weapon has a <b>proficiency</b> requirement
      which must be met in order to wield it.
    </p>
    <table class="wide">
      <tr class="header">
        <td>Name</td>
        <td>Subtype</td>
        <td>Proficiency Required</td>
        <td>Description</td>
        <td>Modifiers</td>
      </tr>
      <tr *ngFor="let weapon of weapons | async">
        <td>{{weapon.label}}</td>
        <td>{{weapon.subtype}}</td>
        <td>{{weapon.proficiency}}</td>
        <td>{{weapon.desc}}</td>
        <td><p *ngFor="let modifier of weapon.modifiers"><b>{{modifier.label}}:</b> {{modifier.value}}<br/></p></td>
      </tr>
    </table>

    <h2 id="Armour">Armour</h2>
    <p>
      Armour is used to protect the body from physical damage and comes in the following forms:
    </p>
    <table class="wide">
      <tr class="header">
        <td>Name</td>
        <td>Subtype</td>
        <td>Proficiency Required</td>
        <td>Description</td>
        <td>Modifiers</td>
      </tr>
      <tr *ngFor="let armourItem of armour | async">
        <td>{{armourItem.label}}</td>
        <td>{{armourItem.subtype}}</td>
        <td>{{armourItem.proficiency}}</td>
        <td>{{armourItem.desc}}</td>
        <td><p *ngFor="let modifier of armourItem.modifiers"><b>{{modifier.label}}:</b> {{modifier.value}}<br/></p></td>
      </tr>
    </table>

    <h2 id="Shields">Shields</h2>
    <p>
      Shields can be equipped in a characters offhand to provide additional armour.
    </p>
    <table class="wide">
      <tr class="header">
        <td>Name</td>
        <td>Subtype</td>
        <td>Proficiency Required</td>
        <td>Description</td>
        <td>Modifiers</td>
      </tr>
      <tr *ngFor="let shield of shields | async">
        <td>{{shield.label}}</td>
        <td>{{shield.subtype}}</td>
        <td>{{shield.proficiency}}</td>
        <td>{{shield.desc}}</td>
        <td><p *ngFor="let modifier of shield.modifiers"><b>{{modifier.label}}:</b> {{modifier.value}}<br/></p></td>
      </tr>
    </table>

    <h2 id="Tools">Tools</h2>
    <p>
      Other items can be acquired, such as bandages and lockpicks. These will become
      available as you progress and the benefits will be detailed on a case by case basis.
    </p>
    <table class="wide">
      <tr class="header">
        <td>Name</td>
        <td>Subtype</td>
        <td>Proficiency Required</td>
        <td>Description</td>
        <td>Modifiers</td>
      </tr>
      <tr *ngFor="let tool of tools | async">
        <td>{{tool.label}}</td>
        <td>{{tool.subtype}}</td>
        <td>{{tool.proficiency}}</td>
        <td>{{tool.desc}}</td>
        <td><p *ngFor="let modifier of tool.modifiers"><b>{{modifier.label}}:</b> {{modifier.value}}<br/></p></td>
      </tr>
    </table>

  </div>
  <div class="box">
    <h1 id="Spells">Spells</h1>
    <p>
      Spells come in 6 categories: <b>Arcane</b>, <b>Mind</b>, <b>Light</b>, <b>Dark</b>, <b>Nature</b>, <b>Song</b>.
    </p>
    <p>
      With regards to spells, a character's class and level defines two things:
    </p>
    <p><b>Magic Type</b>: The category of magic a character has access to, for example wizards have access to
      <b>Arcane</b>.</p>
    <p>
      <b>Spell Slots</b>: The number of spells slots the character has that they can fill with spells. Each slot counts
      as a single use of the spell.
    </p>
    <p>
      Each magic type has spells separated into <b>ranks</b>. Spells of a certain rank are only available to a character
      once he has unlocked it.
      The level these are unlocked is dependant on class, for example Clerics unlock higher ranking <b>Light</b> magic
      earlier than Paladins.
    </p>
    <h2>Spell Slots</h2>
    <p>
      Spell slots can be assigned/changed when a character takes a <b>Long Rest</b>.
    </p>
    <p>
      The number of spells slots a character has is based on their class and level. Spells can be assigned to as many
      slots
      as there are available, in order to give a character multiple uses of a single spell. For example a wizard could
      assign all
      3 of his rank 2 spell slots to Fireball, or have 2 slots with Fireball and 1 slot of Frost Nova.
    </p>
    <p>
      Spells can be assigned to spell slots of their rank <i>or higher</i>. If a spell is assigned to a rank higher than
      that
      of the spell, it may gain bonuses as described.
    </p>
    <h3>Casters</h3>
    <p>
      Casters covers Wizards, Enchanters, Necromancers, Clerics and Druids.
    </p>
    <table class="wide">
      <tr class="header">
        <td>Character Level</td>
        <td>Rank 1 Slots</td>
        <td>Rank 2 Slots</td>
        <td>Rank 3 Slots</td>
        <td>Rank 4 Slots</td>
        <td>Rank 5 Slots</td>
      </tr>
      <tr>
        <td>1</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>2</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>3</td>
        <td>4</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>4</td>
        <td>5</td>
        <td>1</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>5</td>
        <td>5</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>6</td>
        <td>5</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>7</td>
        <td>5</td>
        <td>4</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>8</td>
        <td>5</td>
        <td>4</td>
        <td>1</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>9</td>
        <td>5</td>
        <td>4</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>10</td>
        <td>5</td>
        <td>4</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>11</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>12</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>1</td>
        <td>-</td>
      </tr>
      <tr>
        <td>13</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>14</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>-</td>
      </tr>
      <tr>
        <td>15</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>-</td>
      </tr>
      <tr>
        <td>16</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>1</td>
      </tr>
      <tr>
        <td>17</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>2</td>
      </tr>
      <tr>
        <td>18</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
      </tr>
      <tr>
        <td>19</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
      </tr>
      <tr>
        <td>20</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
      </tr>
    </table>
    <h3>Hybrids</h3>
    <p>
      Hybrids covers Paladins, Rangers and Reavers. They have less overall spell slots than casters and do not gain
      access to rank 5 spells.
    </p>
    <table class="wide">
      <tr class="header">
        <td>Character Level</td>
        <td>Rank 1 Slots</td>
        <td>Rank 2 Slots</td>
        <td>Rank 3 Slots</td>
        <td>Rank 4 Slots</td>
        <td>Rank 5 Slots</td>
      </tr>
      <tr>
        <td>1</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>2</td>
        <td>1</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>3</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>4</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>5</td>
        <td>4</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>6</td>
        <td>4</td>
        <td>1</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>7</td>
        <td>4</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>8</td>
        <td>4</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>9</td>
        <td>4</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>10</td>
        <td>4</td>
        <td>3</td>
        <td>1</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>11</td>
        <td>4</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>12</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>13</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>14</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>1</td>
        <td>-</td>
      </tr>
      <tr>
        <td>15</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>16</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>17</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>18</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>19</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>20</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>2</td>
        <td>-</td>
      </tr>
    </table>
    <p>
      Spells slots are fully refreshed on a <b>Long Rest</b>. When taking a <b>Short Rest</b>, characters gain a number
      of slot points equal to their primary stat defined for the magic type, for example Intelligence for Arcane. These
      points can be spent to refresh spell slots, higher ranking slots costing more:
    </p>
    <ul>
      <li><b>Rank 1</b> - 1 slot point</li>
      <li><b>Rank 2</b> - 2 slot points</li>
      <li><b>Rank 3</b> - 3 slot points</li>
      <li><b>Rank 4</b> - 4 slot points</li>
      <li><b>Rank 5</b> - 5 slot points</li>
    </ul>
    <p>
      All spells will also be one of the following schools:
    </p>
    <ul>
      <li><b>Abjuration</b> - Defends and protects</li>
      <li><b>Alteration</b> - Improves and heals</li>
      <li><b>Conjuration</b> - Summons items or creatures</li>
      <li><b>Divination</b> - Sight or knowledge based magic</li>
      <li><b>Evocation</b> - Directly damages targets</li>
      <li><b>Illusion</b> - Alters the appearance and mind</li>
    </ul>

    <h3>Spells</h3>
    <div *ngFor="let group of spells | async">
      <h4 id="{{group.label}}">{{group.label}}</h4>
      <p [innerHTML]="group.desc"></p>
      <span *ngFor="let rank of group.ranks">
        <div *ngIf="rank">
          <h5>Rank {{rank.rank}} Spells</h5>
          <div class="centered">
            <spell-card *ngFor="let spell of rank.spells | keys" class="card" [spell]="spell.value"></spell-card>
          </div>
        </div>
      </span>
    </div>
  </div>

  <div class="box">
    <h1 id="Poisons">Poisons</h1>
    <p>
      When a character has access to poisons, he can choose to apply the poison to one of his, or his allies, weapons.
      For each rank of poisons a character has access to, they will be able to apply a poison from that rank once per
      day if they have the correct ingredients.
    </p>
    <p>
      Once poisons have been applied to a weapon, they last for one encounter. Poisons must be applied before combat
      starts, unless the character has the ability "Prepared Poison".
    </p>
    <p>
      When a poisoned weapon damages another creature, that creature must make a CON saving throw vs
      the poison strength. The poison strength is decided on poison application and will be 1d20+INT. If their saving
      throw
      is not greater than the strength, they will become poisoned.
    </p>
    <p>
      At the start of a characters turn, if they are poisoned, they take the effects of the poison then make another CON
      saving throw to see whether the poison has run its course or if it persists for another turn.
    </p>
    <p>
      Each poison takes a certain type and number of ingredients to apply. These ingredients can be bought or found, and
      will
      be consumed when the poison is applied.
    </p>
    <table *ngFor="let poisonRank of poisons | async" class="wide">
      <tr class="header">
        <td colspan="3">Rank {{poisonRank.rank}} Poisons</td>
      </tr>
      <tr class="header">
        <td>Name</td>
        <td>Effect</td>
        <td>Ingredient</td>
      </tr>
      <tr *ngFor="let poison of poisonRank.poisons">
        <td>{{poison.label}}</td>
        <td [innerHtml]="poison.desc"></td>
        <td>{{poison.ingredients}}</td>
      </tr>
    </table>
  </div>
</div>
